extends ../layout
block content
	.container.main-container
		//- h1 #{title}

		.page-container
			//- .row
			each ad in data
				.adv
					.single-advert.card
						.card-image
							img(src=ad.url)
							.deleteBtn
								a(href=`/adverts/${ad.id}`)
									i.material-icons() clear
							span.card-title
								= ad.name
							a.btn-floating.halfway-fab.waves-effect.waves-light.red(href=`/edit_advert/${ad.id}`)
								i.material-icons() edit
						.card-content
							p= ad.group
							small= ad.tag
		.row
			.col.l2
				.addButton
					a.waves-effect.waves-light.btn(onclick="addForm()") Add
			.col.l10
				- if (data && data.length < 1)
					.noAdvert
						p There is no advert to display. please add some!

	.card-container#form-holder.advert-page
		#card
			.row
				.col.s12.m6
					.card
						.card-content.gray-text
							.closeIcon
								i.material-icons(aria-hidden='true' onclick="removeForm()") close
							.row
								form.col.s12(method="POST", action="/adverts")
									#formInput
									//- input#id.validate(hidden type='text' value="params.department_id" name = 'department_id')
									//- input#id.validate(hidden type='text' value="params.aisle_id" name = 'aisle_id')
									.row
										.input-field.col.s12
											input#name.validate(type='text' name = 'name')
											label(for='name', data-error='wrong', data-success='right') Name
										.input-field.col.s12
											input#group.validate(type='text' name = 'group')
											label(for='group', data-error='wrong', data-success='right') Group
									.row
										.input-field.col.s12
											input#adImage.validate(type='file')
											p#imageFile
											//- label(for='name', data-error='wrong', data-success='right') Name
										.input-field.col.s12
											input#group.validate(type='text' name = 'tag')
											label(for='group', data-error='wrong', data-success='right') Tag
	
									button.waves-effect.waves-light.btn(type='submit' onclick="showProgress()") Submit Advert
						.progress#show-progress
							.indeterminate